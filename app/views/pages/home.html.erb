<!-- Home Page HTML -->
<div class="homepage">
    <!-- logo Image Section -->
    <div class="logo-image">
      <img src="https://res.cloudinary.com/dafkgjhwt/image/upload/v1737647011/NEW_Logo_Dipiaza_SANS_FOND_2_h2uwhd.png" alt="logo">
    </div>
  </div>
</div>

<!-- Section Nos valeurs -->
<section id="values" class="our-values-preview parallax">
  <div class="values-image slide-up">
    <img src="https://res.cloudinary.com/dafkgjhwt/image/upload/v1737561260/AB96E667-A2E9-4A55-B530-3C499E65FAC7_1_201_a_zu6cg0.jpg" alt="Delicious food at Dipiaza">
  </div>
  <div class="container-our-values slide-up">
    <div class="accent-divider-value"></div>
    <h2 class="section-title">Nos Valeurs</h2>
    <p class="values-snippet">
      Chez Dipiaza, nous nous engageons à offrir des produits de qualité, issus de sources durables, tout en créant un environnement chaleureux et respectueux pour nos clients et nos collaborateurs.
    </p>
    <a href="/nos_valeurs" class="btn-values">Découvrir nos valeurs</a>
  </div>
</section>

<!-- Section Notre histoire -->
<section id="about" class="our-story-preview parallax">
  <div class="container-our-story slide-up">
    <div class="accent-divider-story"></div>
    <h2 class="section-title">Notre Histoire</h2>
    <p class="story-snippet">
      Depuis notre tout premier café à Bulle, Dipiaza a été bien plus qu’un simple bar à café. C’est une histoire de passion, d’authenticité et de rencontres.
    </p>
    <a href="/notre_histoire" class="btn-story">Découvrir notre histoire</a>
  </div>
  <div class="about-image slide-up">
    <img src="https://res.cloudinary.com/dafkgjhwt/image/upload/v1737561260/AB96E667-A2E9-4A55-B530-3C499E65FAC7_1_201_a_zu6cg0.jpg" alt="Delicious food at Dipiaza">
  </div>
</section>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const options = {
      threshold: 0.1, // Déclenche quand 10% de l'élément est visible
    };

    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const target = entry.target;
          const delay = target.dataset.delay || 0; // Récupère le délai éventuel

          // Applique un délai progressif pour l'animation
          setTimeout(() => {
            target.classList.add("show");
          }, delay);

          observer.unobserve(entry.target); // Arrête d'observer cet élément
        }
      });
    }, options);

    // Sélectionne tous les éléments avec la classe slide-up
    const elementsToAnimate = document.querySelectorAll(".slide-up");

    // Ajoute un délai progressif (100ms entre chaque élément)
    elementsToAnimate.forEach((el, index) => {
      el.dataset.delay = index * 200; // Chaque élément a un délai de 100ms * son index
      observer.observe(el);
    });
  });

  document.addEventListener("scroll", () => {
    const parallaxElements = document.querySelectorAll(".parallax");
    parallaxElements.forEach((el) => {
      const scrollY = window.scrollY || window.pageYOffset;
      el.style.transform = `translateY(${scrollY * 0.1}px)`; // Ajuste le facteur 0.1 pour un effet plus fort ou plus léger
    });
  });

  document.addEventListener("scroll", () => {
    const scrollY = window.scrollY || window.pageYOffset; // Position de défilement
    const homepage = document.querySelector(".homepage");

    if (scrollY > 50) {
      homepage.classList.add("scrolled");
    } else {
      homepage.classList.remove("scrolled");
    }

    // Calculer l'opacité en fonction de la position de défilement
    let opacity = 1 - scrollY / 1000; // Ajuste "1000" pour contrôler la vitesse de l'effet
    if (opacity < 0.5) opacity = 0.5; // Opacité minimale
    homepage.style.backgroundColor = `rgba(0, 0, 0, ${1 - opacity})`; // Ajouter un effet de fondu
  });

  document.addEventListener("DOMContentLoaded", () => {
    const navbar = document.querySelector(".navbar");
    let lastScrollY = window.scrollY;

    window.addEventListener("scroll", () => {
      const currentScrollY = window.scrollY;

      if (currentScrollY > 100 && currentScrollY > lastScrollY) {
        // Si on défile vers le bas et qu'on dépasse 100px
        navbar.classList.add("show");
      } else {
        // Si on remonte ou si on est en haut
        navbar.classList.remove("show");
      }

      lastScrollY = currentScrollY; // Mettre à jour la position du scroll
    });
  });


</script>
